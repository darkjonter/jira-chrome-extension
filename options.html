<!DOCTYPE html>
<html>
<!-- Copyright 2009 Google Inc. All Rights Reserved. -->
<head>
  <title>Google Reader Notifier Options</title>
  <style type="text/css">

  </style>
  <script type="text/javascript" src="js/jquery-1.4.2.min.js"></script> 
  <script type="text/javascript">

  function restoreOptions(){
	$("#username").attr("value",  localStorage.getItem('username'));
	$("#password").attr("value",  localStorage.getItem('password'));
	$("#url").attr("value",  (localStorage.getItem('url')?localStorage.getItem('url'):"http://softomate.net/jira"));
	var vals = [1, 3, 5, 10, 30, 60];
	var curval = parseInt(localStorage.getItem('updateinterval'))/(1000*60);
	$.map(vals,function(val){
		$("#updateinterval").append($("<OPTION "+((val == curval)?"SELECTED":'')+" />").attr("value", val).text(val));
	});
//	$("#updateinterval").attr("value",  localStorage.getItem('updateinterval'));
	
  }

  function saveOptions(){

	localStorage.setItem('username', $("#username").attr("value"));
	localStorage.setItem('password', $("#password").attr("value"));
	localStorage.setItem('url', $("#url").attr("value"));	
	localStorage.setItem('updateinterval', parseInt($("#updateinterval").attr("value"))*60000);
	chrome.extension.getBackgroundPage().Auth();;
  }
  </script>
</head>

<body onload="restoreOptions()">
	Username: <input id="username" type="text" /><br />
	Password: <input type="password" id="password" type="text" /><br />
	Jira URL: <input id="url" type="text" /><br />
	Update Interval: <select id="updateinterval" ></select>, min<br />
	
	<input type="button" onclick="saveOptions();" value="Save Options" />
</body>
</html>
